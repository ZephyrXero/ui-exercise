(this.webpackJsonpdmail=this.webpackJsonpdmail||[]).push([[0],{35:function(e,t,a){e.exports=a(67)},40:function(e,t,a){},41:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),c=a.n(r),i=(a(40),a(41),a(13)),m=a.n(i),u=a(7),s=a.n(u),o=(a(53),a(17)),E=a.n(o),d=a(15),f=a.n(d),b=a(18),v=a.n(b),p=a(19),N=a.n(p),g=a(20),h=a.n(g),C=a(21),j=a.n(C),x=a(6),S=a.n(x),k=(a(54),a(8)),O=a.n(k),w=a(14),y=a(4),L=a(33),D="http://localhost:3000",z={currentEmail:null,emailList:[]},B=l.a.createContext();function M(e){var t=e.children,a=l.a.useState(Object(y.a)({},z,{actions:{filterEmail:function(e){i((function(t){return Object(y.a)({},t,{},{filterTag:e})})),u(null)},setCurrentEmail:u}})),r=Object(L.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]),l.a.createElement(B.Provider,{value:c},t);function m(){return(m=Object(w.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/emails.json",e.next=3,fetch(D+"/emails.json").then((function(e){return e.json()})).catch((function(e){return console.error("Data file failed to load")}));case 3:t=e.sent,i((function(e){return Object(y.a)({},e,{},{emailList:t.messages})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){var t=e?String(e):null;i((function(e){return Object(y.a)({},e,{},{currentEmail:t})}))}}var T=B;var F=function(){var e=Object(n.useContext)(T),t=e.currentEmail,a=e.emailList;return l.a.createElement("div",{className:"email-counter"},t||"1-".concat(a.length)," of ",a.length)};var I=function(){var e=Object(n.useContext)(T),t=e.actions,a=e.currentEmail,r=e.emailList;return l.a.createElement("div",{id:"email-header"},l.a.createElement("button",{className:"flat-button back-button",onClick:function(){return t.setCurrentEmail(null)}},l.a.createElement(f.a,null)),l.a.createElement(E.a,null),l.a.createElement(S.a,null),l.a.createElement(v.a,null),l.a.createElement(N.a,null),l.a.createElement(F,null),l.a.createElement("button",{className:"flat-button",onClick:function(){"1"===a?t.setCurrentEmail(r.length):t.setCurrentEmail(Number(a)-1)}},l.a.createElement(h.a,null)),l.a.createElement("button",{className:"flat-button",onClick:function(){a===String(r.length)?t.setCurrentEmail("1"):t.setCurrentEmail(Number(a)+1)}},l.a.createElement(j.a,null)))};var J=function(){var e=Object(n.useContext)(T),t=e.currentEmail,a=e.emailList.filter((function(e){return e.id===t}))[0];return l.a.createElement("div",{id:"email"},l.a.createElement(I,null),l.a.createElement("div",{className:"email-container"},l.a.createElement("div",{className:"subject"},a.subject,Boolean(a.tags.length)&&a.tags.map((function(e){return l.a.createElement("span",{className:"tag",key:e},e)}))),l.a.createElement("div",{className:"metadata"},l.a.createElement(s.a,null),l.a.createElement("div",{className:"from-to"},l.a.createElement("div",{className:"flex-row"},"From ",l.a.createElement("span",{className:"sender"},a.sender)),l.a.createElement("div",{className:"flex-row"},"To me")),l.a.createElement("span",{className:"sent-date"},new Date(a.date).toLocaleDateString())),l.a.createElement("div",{className:"body"},m()(a.body))))},P=(a(61),a(22)),U=a.n(P);a(62);var q=function(){return l.a.createElement("div",{id:"list-header"},l.a.createElement(U.a,null),l.a.createElement("span",{className:"group-label"},"Unread"),l.a.createElement(F,null))};var A=function(){var e=Object(n.useContext)(T),t=e.actions,a=e.emailList,r=e.filterTag;return l.a.createElement("div",{id:"email-list"},l.a.createElement(q,null),a.filter((function(e){return!r||e.tags.includes(r)})).map((function(e){return l.a.createElement("div",{className:"email-preview",key:e.id,onClick:function(){return a=e.id,void t.setCurrentEmail(a);var a}},l.a.createElement("span",{className:"sender"},e.sender),l.a.createElement("span",{className:"subject"},e.subject),l.a.createElement("span",{className:"body"},(a=e.body,(new DOMParser).parseFromString(a,"text/html").body.textContent||"")),l.a.createElement("span",{className:"date"},new Date(e.date).toLocaleString()));var a})))},G=a(24),H=a.n(G),K=a(26),Q=a.n(K),R=a(23),V=a.n(R),W=a(25),X=a.n(W);a(63);var Y=function(){return l.a.createElement("div",{id:"navbar"},l.a.createElement("div",{id:"menu-column"},l.a.createElement(V.a,{fontSize:"large"}),l.a.createElement(H.a,{fontSize:"large"}),l.a.createElement("span",{className:"logo-text"},"DMail")),l.a.createElement("div",{id:"search-column"},l.a.createElement("div",{id:"search-bar"},l.a.createElement(X.a,null),"Search Mail")),l.a.createElement("div",{id:"user-column"},l.a.createElement(Q.a,{fontSize:"large"}),l.a.createElement(s.a,{fontSize:"large"})))},Z=a(27),$=a.n(Z),_=a(28),ee=a.n(_),te=a(31),ae=a.n(te),ne=a(32),le=a.n(ne),re=a(30),ce=a.n(re),ie=a(29),me=a.n(ie);a(64);var ue=function(){var e=Object(n.useContext)(T),t=e.actions,a=e.emailList.reduce((function(e,t){return t.tags.forEach((function(t){e.includes(t)||e.push(t)})),e}),[]);return l.a.createElement("div",{id:"sidebar"},l.a.createElement("button",{id:"compose-button",onClick:function(){return console.warn("Compose not implemented")}},l.a.createElement($.a,{fontSize:"large"})," Compose"),l.a.createElement("button",{className:"sidebar-item flat-button",onClick:function(){return t.filterEmail(null)}},l.a.createElement(ee.a,null)," Inbox"),l.a.createElement("span",{className:"sidebar-item"},l.a.createElement(me.a,null)," Starred"),l.a.createElement("span",{className:"sidebar-item"},l.a.createElement(ce.a,null)," Sent"),l.a.createElement("span",{className:"sidebar-item"},l.a.createElement(ae.a,null)," Drafts"),l.a.createElement("span",{className:"sidebar-item"},l.a.createElement(S.a,null)," Spam"),Boolean(a.length)&&a.map((function(e){return l.a.createElement("button",{className:"sidebar-item flat-button",key:e,onClick:function(){return t.filterEmail(e)}},l.a.createElement(le.a,null)," ",e)})))};var se=function(){return l.a.createElement("div",{id:"dmail"},l.a.createElement(M,null,l.a.createElement(Y,null),l.a.createElement("div",{className:"flex-row"},l.a.createElement(ue,null),l.a.createElement("div",{id:"content-container"},l.a.createElement(B.Consumer,null,(function(e){return e.currentEmail?l.a.createElement(J,null):l.a.createElement(A,null)}))))))};var oe=function(){return l.a.createElement("div",{className:"app"},l.a.createElement(se,null))};a(65);c.a.render(l.a.createElement(oe,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.4de51bec.chunk.js.map